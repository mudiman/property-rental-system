-- MySQL Script generated by MySQL Workbench
-- Tue Oct 24 17:59:25 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema smoor
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `smoor` ;

-- -----------------------------------------------------
-- Schema smoor
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `smoor` DEFAULT CHARACTER SET utf8 ;
USE `smoor` ;

-- -----------------------------------------------------
-- Table `smoor`.`users`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`users` ;

CREATE TABLE IF NOT EXISTS `smoor`.`users` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `first_name` VARCHAR(45) NULL,
  `last_name` VARCHAR(45) NULL,
  `username` VARCHAR(100) NOT NULL,
  `role` VARCHAR(1000) NULL DEFAULT 'tenant',
  `about` VARCHAR(1000) NULL,
  `about_smoor_score_service` VARCHAR(1000) NULL,
  `gender` ENUM('male', 'female', 'other') NULL,
  `email` VARCHAR(100) NOT NULL,
  `cordinate` POINT NULL DEFAULT NULL,
  `postcode` VARCHAR(45) NULL,
  `address` VARCHAR(45) NULL,
  `location` VARCHAR(100) NULL,
  `profession` VARCHAR(45) NULL,
  `mobile` VARCHAR(20) NULL,
  `status` VARCHAR(45) NULL DEFAULT 'active',
  `qualification` VARCHAR(1000) NULL,
  `arla_qualified` TINYINT NULL DEFAULT '0',
  `profile_picture` VARCHAR(100) NULL,
  `email_verification_code` VARCHAR(45) NULL,
  `email_verification_code_expiry` DATETIME NULL,
  `forgot_password_verification_code` VARCHAR(45) NULL,
  `forgot_password_verification_code_expiry` DATETIME NULL,
  `sms_verification_code` VARCHAR(45) NULL,
  `sms_verification_code_expiry` DATETIME NULL,
  `password` VARCHAR(255) NULL,
  `verified` TINYINT(4) NULL DEFAULT '0',
  `admin_verified` TINYINT(4) NULL DEFAULT '0',
  `token` VARCHAR(100) NULL,
  `remember_token` VARCHAR(100) NULL,
  `secret` VARCHAR(45) NULL,
  `transaction_reputation` FLOAT NULL,
  `conduct_reputation` FLOAT NULL,
  `service_reputation` FLOAT NULL,
  `date_of_birth` DATE NULL,
  `phone` VARCHAR(45) NULL,
  `school` VARCHAR(45) NULL,
  `available_to_move_on` DATE NULL,
  `commission_charge` FLOAT NULL,
  `area_covered` VARCHAR(1000) NULL,
  `place_of_work` VARCHAR(1000) NULL,
  `languages` VARCHAR(100) NULL,
  `current_residence_postcode` VARCHAR(45) NULL,
  `current_residence_property_type` VARCHAR(45) NULL,
  `current_residence_bedrooms` INT NULL,
  `current_residence_bathrooms` INT NULL,
  `current_contract_type` VARCHAR(45) NULL,
  `current_contract_start_date` DATE NULL,
  `current_contract_end_date` DATE NULL,
  `current_rent_per_month` FLOAT NULL,
  `employment_status` TINYINT NULL,
  `previous_employer` VARCHAR(45) NULL,
  `experience_years` INT NULL,
  `previous_job_function` VARCHAR(1000) NULL,
  `recent_search_query` VARCHAR(1000) NULL,
  `extra_info` TEXT NULL DEFAULT NULL,
  `currency` VARCHAR(45) NULL DEFAULT NULL,
  `push_notification_messages` TINYINT(4) NULL DEFAULT '1',
  `push_notification_viewings` TINYINT(4) NULL DEFAULT '1',
  `push_notification_offers` TINYINT(4) NULL DEFAULT '1',
  `push_notification_other` TINYINT(4) NULL DEFAULT '1',
  `email_notification_messages` TINYINT(4) NULL DEFAULT '0',
  `email_notification_viewings` TINYINT(4) NULL DEFAULT '1',
  `email_notification_offers` TINYINT(4) NULL DEFAULT '1',
  `email_notification_other` TINYINT(4) NULL DEFAULT NULL,
  `text_notification_messages` TINYINT(4) NULL DEFAULT '0',
  `text_notification_viewings` TINYINT(4) NULL DEFAULT '1',
  `text_notification_offers` TINYINT(4) NULL DEFAULT '1',
  `text_notification_other` TINYINT(4) NULL DEFAULT '0',
  `account_reference` VARCHAR(45) NULL,
  `customer_reference` VARCHAR(45) NULL,
  `timezone` VARCHAR(45) NULL,
  `configuration` TEXT NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `email` (`email` ASC),
  INDEX `first_name` (`first_name` ASC),
  INDEX `last_name` (`last_name` ASC),
  INDEX `cfk_created_by_idx` (`created_at` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`threads`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`threads` ;

CREATE TABLE IF NOT EXISTS `smoor`.`threads` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(1000) NULL,
  `status` VARCHAR(45) NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`messages`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`messages` ;

CREATE TABLE IF NOT EXISTS `smoor`.`messages` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `by_user` BIGINT(20) NULL DEFAULT NULL,
  `thread_id` BIGINT(20) NULL,
  `title` VARCHAR(1000) NULL DEFAULT NULL,
  `message` TEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NULL DEFAULT NULL,
  `status` VARCHAR(45) NULL DEFAULT 'visible',
  `messageable_id` BIGINT(20) NULL DEFAULT NULL,
  `messageable_type` VARCHAR(100) NULL DEFAULT NULL,
  `snapshot` TEXT NULL,
  `archived` TINYINT(4) NULL DEFAULT '0',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  INDEX `fk_notifications_users2_idx` (`by_user` ASC),
  INDEX `messageable` (`messageable_id` ASC, `messageable_type` ASC),
  INDEX `fk_messages_threads1_idx` (`thread_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_notifications_users2`
    FOREIGN KEY (`by_user`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_messages_threads1`
    FOREIGN KEY (`thread_id`)
    REFERENCES `smoor`.`threads` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`jobs`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`jobs` ;

CREATE TABLE IF NOT EXISTS `smoor`.`jobs` (
  `id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `queue` VARCHAR(255) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `payload` LONGTEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `attempts` TINYINT(3) UNSIGNED NOT NULL,
  `reserved_at` INT(10) UNSIGNED NULL DEFAULT NULL,
  `available_at` INT(10) UNSIGNED NOT NULL,
  `created_at` INT(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `jobs_queue_reserved_at_index` (`queue`(191) ASC, `reserved_at` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `smoor`.`migrations`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`migrations` ;

CREATE TABLE IF NOT EXISTS `smoor`.`migrations` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `migration` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `batch` INT(11) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `smoor`.`oauth_access_tokens`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`oauth_access_tokens` ;

CREATE TABLE IF NOT EXISTS `smoor`.`oauth_access_tokens` (
  `id` VARCHAR(100) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `user_id` INT(11) NULL DEFAULT NULL,
  `client_id` INT(11) NOT NULL,
  `name` VARCHAR(255) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NULL DEFAULT NULL,
  `scopes` TEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NULL DEFAULT NULL,
  `revoked` TINYINT(1) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  `expires_at` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `oauth_access_tokens_user_id_index` (`user_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `smoor`.`oauth_auth_codes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`oauth_auth_codes` ;

CREATE TABLE IF NOT EXISTS `smoor`.`oauth_auth_codes` (
  `id` VARCHAR(100) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `user_id` INT(11) NOT NULL,
  `client_id` INT(11) NOT NULL,
  `scopes` TEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NULL DEFAULT NULL,
  `revoked` TINYINT(1) NOT NULL,
  `expires_at` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `smoor`.`oauth_clients`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`oauth_clients` ;

CREATE TABLE IF NOT EXISTS `smoor`.`oauth_clients` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `user_id` INT(11) NULL DEFAULT NULL,
  `name` VARCHAR(255) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `secret` VARCHAR(100) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `redirect` TEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `personal_access_client` TINYINT(1) NOT NULL,
  `password_client` TINYINT(1) NOT NULL,
  `revoked` TINYINT(1) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `oauth_clients_user_id_index` (`user_id` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `smoor`.`oauth_personal_access_clients`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`oauth_personal_access_clients` ;

CREATE TABLE IF NOT EXISTS `smoor`.`oauth_personal_access_clients` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `client_id` INT(11) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `oauth_personal_access_clients_client_id_index` (`client_id` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 2
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `smoor`.`oauth_refresh_tokens`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`oauth_refresh_tokens` ;

CREATE TABLE IF NOT EXISTS `smoor`.`oauth_refresh_tokens` (
  `id` VARCHAR(100) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `access_token_id` VARCHAR(100) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `revoked` TINYINT(1) NOT NULL,
  `expires_at` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `oauth_refresh_tokens_access_token_id_index` (`access_token_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `smoor`.`services`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`services` ;

CREATE TABLE IF NOT EXISTS `smoor`.`services` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `type` VARCHAR(45) NULL DEFAULT NULL,
  `description` VARCHAR(1000) NULL,
  `area` VARCHAR(1000) NULL DEFAULT NULL,
  `lower_cap` FLOAT(11) NULL DEFAULT NULL,
  `upper_cap` FLOAT(11) NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`user_services`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`user_services` ;

CREATE TABLE IF NOT EXISTS `smoor`.`user_services` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NOT NULL,
  `service_id` BIGINT(20) NOT NULL,
  `pricing` VARCHAR(45) NULL DEFAULT NULL,
  `price` FLOAT(11) NULL DEFAULT NULL,
  `extra_charges` FLOAT(11) NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_users_has_services_users1_idx` (`user_id` ASC),
  INDEX `fk_user_services_services1_idx` (`service_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  CONSTRAINT `fk_users_has_services_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_services_services1`
    FOREIGN KEY (`service_id`)
    REFERENCES `smoor`.`services` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`service_fee_types`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`service_fee_types` ;

CREATE TABLE IF NOT EXISTS `smoor`.`service_fee_types` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`service_types`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`service_types` ;

CREATE TABLE IF NOT EXISTS `smoor`.`service_types` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`document_types`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`document_types` ;

CREATE TABLE IF NOT EXISTS `smoor`.`document_types` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `type` VARCHAR(45) NULL DEFAULT 'user',
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`documents`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`documents` ;

CREATE TABLE IF NOT EXISTS `smoor`.`documents` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL,
  `type` VARCHAR(45) NULL,
  `mimetype` VARCHAR(45) NULL DEFAULT NULL,
  `issuing_country` VARCHAR(45) NULL DEFAULT NULL,
  `verified` TINYINT NULL,
  `path` VARCHAR(1000) NULL,
  `bucket_name` VARCHAR(45) NULL,
  `filename` VARCHAR(100) NULL DEFAULT NULL,
  `file_front_path` VARCHAR(1000) NULL DEFAULT NULL,
  `file_front_filename` VARCHAR(100) NULL DEFAULT NULL,
  `file_front_mimetype` VARCHAR(45) NULL DEFAULT NULL,
  `file_back_path` VARCHAR(1000) NULL DEFAULT NULL,
  `file_back_filename` VARCHAR(100) NULL DEFAULT NULL,
  `file_back_mimetype` VARCHAR(45) NULL DEFAULT NULL,
  `documentable_id` BIGINT(20) NULL DEFAULT NULL,
  `documentable_type` VARCHAR(100) NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `documentable` (`documentable_id` ASC, `documentable_type` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`payins`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`payins` ;

CREATE TABLE IF NOT EXISTS `smoor`.`payins` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NOT NULL,
  `bank_name` VARCHAR(100) NULL,
  `account_number` VARCHAR(45) NULL,
  `routing_number` VARCHAR(45) NULL,
  `currency` VARCHAR(45) NULL,
  `iban` VARCHAR(45) NULL,
  `countryCode` VARCHAR(10) NULL,
  `sort_code` VARCHAR(45) NULL,
  `bic` VARCHAR(45) NULL,
  `ip` VARCHAR(45) NULL,
  `first_name` VARCHAR(45) NULL,
  `last_name` VARCHAR(45) NULL,
  `email` VARCHAR(45) NULL,
  `phone` VARCHAR(45) NULL,
  `gender` VARCHAR(45) NULL,
  `date_of_birth` DATE NULL,
  `ssn` VARCHAR(45) NULL,
  `address` VARCHAR(1000) NULL,
  `legal_name` VARCHAR(45) NULL,
  `tax_id` VARCHAR(45) NULL,
  `locality` VARCHAR(45) NULL,
  `postal_code` VARCHAR(45) NULL,
  `region` VARCHAR(45) NULL,
  `entity_type` VARCHAR(45) NULL,
  `nationality` VARCHAR(45) NULL,
  `personal_id_number` VARCHAR(45) NULL,
  `payment_gateway_identity_document` TEXT NULL,
  `payment_gateway_identity_document_id` VARCHAR(45) NULL,
  `billing_address` TEXT NULL,
  `payin_data` TEXT NULL DEFAULT NULL,
  `smoor_reference` VARCHAR(45) NULL DEFAULT NULL,
  `user_reference` VARCHAR(45) NULL DEFAULT NULL,
  `reference` VARCHAR(45) NULL,
  `token` VARCHAR(45) NULL,
  `verified` TINYINT NULL,
  `payment_gateway_response` TEXT NULL,
  `verification_response` TEXT NULL,
  `default` TINYINT NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_payins_users1_idx` (`user_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_payins_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`payouts`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`payouts` ;

CREATE TABLE IF NOT EXISTS `smoor`.`payouts` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `payment_method` VARCHAR(45) NULL,
  `user_id` BIGINT(20) NOT NULL,
  `holder_name` VARCHAR(45) NULL,
  `card_number` VARCHAR(45) NULL,
  `expire_on_month` INT NULL,
  `expire_on_year` INT NULL,
  `expiry` DATE NULL,
  `security_code` VARCHAR(45) NULL,
  `country` VARCHAR(45) NULL,
  `payout_data` TEXT NULL DEFAULT NULL,
  `payout_reference` VARCHAR(45) NULL DEFAULT NULL,
  `smoor_reference` VARCHAR(45) NULL DEFAULT NULL,
  `user_reference` VARCHAR(45) NULL DEFAULT NULL,
  `used` TINYINT NULL,
  `token` VARCHAR(45) NULL,
  `default` TINYINT NULL,
  `invalid` TINYINT NULL,
  `payment_error_type` VARCHAR(100) NULL,
  `payment_error_message` TEXT NULL,
  `payment_error_code` VARCHAR(45) NULL,
  `payment_error_status` VARCHAR(45) NULL,
  `payment_error_param` VARCHAR(1000) NULL,
  `payment_response` TEXT NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_payouts_users1_idx` (`user_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_payouts_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`transactions`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`transactions` ;

CREATE TABLE IF NOT EXISTS `smoor`.`transactions` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NULL,
  `payin_id` BIGINT(20) NULL DEFAULT NULL,
  `payout_id` BIGINT(20) NULL DEFAULT NULL,
  `parent_transaction_id` BIGINT(20) NULL,
  `transactionable_id` BIGINT(20) NULL,
  `transactionable_type` VARCHAR(45) NULL,
  `title` VARCHAR(45) NULL,
  `description` VARCHAR(1000) NULL,
  `type` ENUM('credit', 'debit') NULL,
  `amount` FLOAT(11) NULL,
  `currency` VARCHAR(45) NULL,
  `smoor_commission` FLOAT(11) NULL DEFAULT NULL,
  `payment_gateway_commission` FLOAT(11) NULL DEFAULT NULL,
  `landlord_commission` FLOAT NULL,
  `agency_commission` FLOAT NULL,
  `property_pro_commission` FLOAT NULL,
  `status` VARCHAR(45) NULL,
  `transaction_data` TEXT NULL DEFAULT NULL,
  `transaction_reference` VARCHAR(45) NULL DEFAULT NULL,
  `smoor_reference` VARCHAR(45) NULL DEFAULT NULL,
  `indempotent_key` VARCHAR(100) NULL DEFAULT NULL,
  `dividen_done` TINYINT NULL,
  `payment_error_message` TEXT NULL,
  `payment_error_type` VARCHAR(100) NULL,
  `payment_error_code` VARCHAR(45) NULL,
  `payment_error_status` VARCHAR(45) NULL,
  `payment_error_param` VARCHAR(1000) NULL,
  `payment_response` TEXT NULL DEFAULT NULL,
  `refund_status` VARCHAR(45) NULL,
  `refund_reference` VARCHAR(45) NULL,
  `refund_response` TEXT NULL,
  `retries` INT NULL,
  `token_used` VARCHAR(45) NULL,
  `due_date` DATE NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_transactions_users1_idx` (`user_id` ASC),
  INDEX `fk_transactions_payins1_idx` (`payin_id` ASC),
  INDEX `fk_transactions_payouts1_idx` (`payout_id` ASC),
  INDEX `transactionable` (`transactionable_type` ASC, `transactionable_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `fk_transactions_transactions1_idx` (`parent_transaction_id` ASC),
  CONSTRAINT `fk_transactions_payins1`
    FOREIGN KEY (`payin_id`)
    REFERENCES `smoor`.`payins` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_transactions_payouts1`
    FOREIGN KEY (`payout_id`)
    REFERENCES `smoor`.`payouts` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_transactions_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_transactions_transactions1`
    FOREIGN KEY (`parent_transaction_id`)
    REFERENCES `smoor`.`transactions` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`failed_jobs`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`failed_jobs` ;

CREATE TABLE IF NOT EXISTS `smoor`.`failed_jobs` (
  `id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `connection` TEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `queue` TEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `payload` LONGTEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `exception` LONGTEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NOT NULL,
  `failed_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `smoor`.`feedbacks`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`feedbacks` ;

CREATE TABLE IF NOT EXISTS `smoor`.`feedbacks` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NOT NULL,
  `title` VARCHAR(45) NULL DEFAULT NULL,
  `description` TEXT NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_feedbacks_users1_idx` (`user_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_feedbacks_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`images`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`images` ;

CREATE TABLE IF NOT EXISTS `smoor`.`images` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `path` VARCHAR(1000) NULL,
  `bucket_name` VARCHAR(45) NULL,
  `filename` VARCHAR(100) NULL DEFAULT NULL,
  `type` VARCHAR(45) NULL DEFAULT NULL,
  `mimetype` VARCHAR(45) NULL DEFAULT NULL,
  `primary` TINYINT NULL,
  `position` INT NULL,
  `imageable_id` BIGINT(20) NULL DEFAULT NULL,
  `imageable_type` VARCHAR(100) NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `imageable` (`imageable_id` ASC, `imageable_type` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`properties`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`properties` ;

CREATE TABLE IF NOT EXISTS `smoor`.`properties` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `landlord_id` BIGINT(20) NOT NULL,
  `profile_picture` VARCHAR(1000) NULL DEFAULT NULL,
  `reference` VARCHAR(45) NULL,
  `title` VARCHAR(1000) NULL,
  `summary` VARCHAR(3000) NULL,
  `letting_type` VARCHAR(45) NULL,
  `property_type` VARCHAR(45) NULL,
  `room_type` VARCHAR(45) NULL,
  `room_suitable` VARCHAR(45) NULL DEFAULT 'single',
  `bathroom_type` VARCHAR(45) NULL,
  `people_living` INT(11) NULL,
  `status` VARCHAR(45) NULL DEFAULT 'draft',
  `completion_phase` VARCHAR(45) NULL DEFAULT 'start',
  `available_date` DATE NULL,
  `cordinate` POINT NULL DEFAULT NULL,
  `postcode` VARCHAR(45) NULL,
  `door_number` VARCHAR(45) NULL,
  `street` VARCHAR(45) NULL,
  `city` VARCHAR(45) NULL,
  `verified` TINYINT NULL DEFAULT 0,
  `apartment_building` VARCHAR(45) NULL,
  `county` VARCHAR(45) NULL,
  `country` VARCHAR(45) NULL,
  `currency` VARCHAR(45) NULL,
  `rent_per_month` FLOAT NULL,
  `rent_per_week` FLOAT NULL,
  `rent_per_night` FLOAT NULL,
  `minimum_accepted_price` FLOAT NULL,
  `minimum_accepted_price_short_term_price` FLOAT NULL,
  `security_deposit_weeks` INT(11) NULL,
  `security_deposit_amount` FLOAT NULL,
  `security_deposit_holding_amount` FLOAT NULL,
  `contract_length_months` INT(11) NULL,
  `shortterm_rent_per_month` FLOAT NULL,
  `shortterm_rent_per_week` FLOAT NULL,
  `valuation_comment` VARCHAR(1000) NULL,
  `valuation_rating` FLOAT NULL,
  `quick_booking` TINYINT(4) NULL DEFAULT '0',
  `area_overview` VARCHAR(1000) NULL,
  `area_info` VARCHAR(1000) NULL,
  `notes` TEXT NULL,
  `rules` VARCHAR(1000) NULL,
  `getting_around` VARCHAR(1000) NULL,
  `receptions` INT(11) NULL DEFAULT 0,
  `bedrooms` INT(11) NULL DEFAULT 0,
  `bathrooms` INT(11) NULL DEFAULT 0,
  `has_garden` TINYINT(4) NULL DEFAULT '0',
  `has_balcony_terrace` TINYINT(4) NULL DEFAULT '0',
  `has_parking` TINYINT(4) NULL DEFAULT '0',
  `ensuite` TINYINT(4) NULL DEFAULT '0',
  `flatshares` TINYINT(4) NULL DEFAULT '0',
  `reviewed` TINYINT(4) NULL DEFAULT '0',
  `total_listing_view` INT(11) NULL DEFAULT 0,
  `total_detail_view` INT(11) NULL DEFAULT 0,
  `view_history` TEXT NULL,
  `extra_info` TEXT NULL DEFAULT NULL,
  `inclusive` VARCHAR(1000) NULL,
  `deleted_at` TIMESTAMP NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cordinate` (`cordinate`(25) ASC),
  INDEX `type` (`property_type` ASC, `letting_type` ASC),
  INDEX `rent_per_month` (`rent_per_night` ASC),
  INDEX `rent_per_night` (`rent_per_night` ASC),
  INDEX `cm_location_rpm` (`cordinate`(25) ASC, `rent_per_month` ASC),
  INDEX `cm_location_rpn` (`cordinate`(25) ASC, `rent_per_night` ASC),
  INDEX `postcode_area` (`postcode` ASC, `street` ASC),
  INDEX `status` (`status` ASC),
  INDEX `available` (`available_date` ASC),
  INDEX `budget_rpm` (`rent_per_month` ASC),
  INDEX `budget_rpw` (`rent_per_week` ASC),
  INDEX `budget_rpn` (`rent_per_night` ASC),
  INDEX `bedrooms` (`bedrooms` ASC),
  INDEX `fk_properties_users2_idx` (`landlord_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_properties_users2`
    FOREIGN KEY (`landlord_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`premiumlistings`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`premiumlistings` ;

CREATE TABLE IF NOT EXISTS `smoor`.`premiumlistings` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `type` VARCHAR(45) NULL DEFAULT NULL,
  `property_id` BIGINT(20) NOT NULL,
  `end_datetime` DATETIME NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_premiumlistings_properties1_idx` (`property_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_premiumlistings_properties1`
    FOREIGN KEY (`property_id`)
    REFERENCES `smoor`.`properties` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`viewings`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`viewings` ;

CREATE TABLE IF NOT EXISTS `smoor`.`viewings` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `property_id` BIGINT(20) NOT NULL,
  `conducted_by` BIGINT(20) NOT NULL,
  `start_datetime` DATETIME NOT NULL,
  `end_datetime` DATETIME NOT NULL,
  `type` VARCHAR(45) NULL DEFAULT 'normal',
  `status` VARCHAR(45) NULL DEFAULT 'available',
  `check_in` TINYINT NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_users_has_properties_properties2_idx` (`property_id` ASC),
  INDEX `fk_viewings_users1_idx` (`conducted_by` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_users_has_properties_properties2`
    FOREIGN KEY (`property_id`)
    REFERENCES `smoor`.`properties` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_viewings_users1`
    FOREIGN KEY (`conducted_by`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`viewing_requests`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`viewing_requests` ;

CREATE TABLE IF NOT EXISTS `smoor`.`viewing_requests` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `viewing_id` BIGINT(20) NOT NULL,
  `view_by_user` BIGINT(20) NOT NULL,
  `check_in` TINYINT NULL,
  `status` VARCHAR(45) NULL DEFAULT 'request',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_users_has_viewings_viewings1_idx` (`viewing_id` ASC),
  INDEX `fk_users_has_viewings_users1_idx` (`view_by_user` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  CONSTRAINT `fk_users_has_viewings_users1`
    FOREIGN KEY (`view_by_user`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_has_viewings_viewings1`
    FOREIGN KEY (`viewing_id`)
    REFERENCES `smoor`.`viewings` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`reports`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`reports` ;

CREATE TABLE IF NOT EXISTS `smoor`.`reports` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `by_user` BIGINT(20) NOT NULL,
  `comment` VARCHAR(1000) NULL DEFAULT NULL,
  `reportable_id` BIGINT(20) NULL DEFAULT NULL,
  `reportable_type` VARCHAR(100) NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_reports_users1_idx` (`by_user` ASC),
  INDEX `reportable` (`reportable_id` ASC, `reportable_type` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_reports_users1`
    FOREIGN KEY (`by_user`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`reviews`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`reviews` ;

CREATE TABLE IF NOT EXISTS `smoor`.`reviews` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `by_user` BIGINT(20) NOT NULL,
  `for_user` BIGINT(20) NULL,
  `score_type_id` BIGINT(20) NULL,
  `comment` VARCHAR(1000) NULL,
  `rating` FLOAT NULL,
  `punctuality` FLOAT NULL,
  `quality` FLOAT NULL,
  `reviewable_id` BIGINT(20) NULL DEFAULT NULL,
  `reviewable_type` VARCHAR(100) NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_reviews_users2_idx` (`by_user` ASC),
  INDEX `reviewable` (`reviewable_id` ASC, `reviewable_type` ASC),
  INDEX `fk_reviews_users1_idx` (`for_user` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_reviews_users2`
    FOREIGN KEY (`by_user`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_reviews_users1`
    FOREIGN KEY (`for_user`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`payment_methods`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`payment_methods` ;

CREATE TABLE IF NOT EXISTS `smoor`.`payment_methods` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`letting_types`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`letting_types` ;

CREATE TABLE IF NOT EXISTS `smoor`.`letting_types` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `icon` VARCHAR(45) NULL DEFAULT NULL,
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`likes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`likes` ;

CREATE TABLE IF NOT EXISTS `smoor`.`likes` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `likeable_id` BIGINT(20) NULL,
  `likeable_type` VARCHAR(45) NULL,
  `user_id` BIGINT(20) NOT NULL,
  `type` VARCHAR(45) NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_users_has_properties_users3_idx` (`user_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `likeable` (`likeable_id` ASC, `likeable_type` ASC),
  CONSTRAINT `fk_users_has_properties_users3`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`offers`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`offers` ;

CREATE TABLE IF NOT EXISTS `smoor`.`offers` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `thread` VARCHAR(100) NOT NULL,
  `tenant_id` BIGINT(20) NOT NULL,
  `property_id` BIGINT(20) NOT NULL,
  `landlord_id` BIGINT(20) NULL,
  `property_pro_id` BIGINT(20) NULL DEFAULT NULL,
  `previous_offer_id` BIGINT(20) NULL,
  `payout_id` BIGINT(20) NULL,
  `landlord_payin_id` BIGINT(20) NULL,
  `status` VARCHAR(45) NULL,
  `type` VARCHAR(45) NULL,
  `offer_expiry` DATETIME NULL,
  `holding_deposit_expiry` DATETIME NULL,
  `checkin` DATE NULL,
  `checkout` DATE NULL,
  `rent_per_month` FLOAT(11) NULL,
  `rent_per_week` FLOAT(11) NULL DEFAULT NULL,
  `rent_per_night` FLOAT(11) NULL DEFAULT NULL,
  `currency` VARCHAR(45) NULL,
  `security_deposit_week` INT NULL,
  `security_deposit_amount` FLOAT NULL,
  `security_holding_deposit_amount` FLOAT NULL,
  `special_condition` TEXT NULL DEFAULT NULL,
  `deleted_at` TIMESTAMP NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_users_has_properties_properties6_idx` (`property_id` ASC),
  INDEX `fk_users_has_properties_users4_idx` (`tenant_id` ASC),
  INDEX `fk_tenancy_users1_idx` (`landlord_id` ASC),
  INDEX `fk_tenancies_users1_idx` (`property_pro_id` ASC),
  INDEX `fk_tenancies_tenancies1_idx` (`previous_offer_id` ASC),
  INDEX `fk_offer_payouts1_idx` (`payout_id` ASC),
  INDEX `thread_index` (`thread` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `fk_offers_payins1_idx` (`landlord_payin_id` ASC),
  CONSTRAINT `fk_tenancies_users10`
    FOREIGN KEY (`property_pro_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenancy_users10`
    FOREIGN KEY (`landlord_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_has_properties_properties60`
    FOREIGN KEY (`property_id`)
    REFERENCES `smoor`.`properties` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_has_properties_users40`
    FOREIGN KEY (`tenant_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenancies_tenancies10`
    FOREIGN KEY (`previous_offer_id`)
    REFERENCES `smoor`.`offers` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_offer_payouts1`
    FOREIGN KEY (`payout_id`)
    REFERENCES `smoor`.`payouts` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_offers_payins1`
    FOREIGN KEY (`landlord_payin_id`)
    REFERENCES `smoor`.`payins` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`tenancies`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`tenancies` ;

CREATE TABLE IF NOT EXISTS `smoor`.`tenancies` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `tenant_id` BIGINT(20) NOT NULL,
  `property_id` BIGINT(20) NOT NULL,
  `offer_id` BIGINT(20) NULL,
  `thread` VARCHAR(100) NULL,
  `parent_tenancy_id` BIGINT(20) NULL,
  `landlord_id` BIGINT(20) NULL,
  `property_pro_id` BIGINT(20) NULL DEFAULT NULL,
  `payout_id` BIGINT(20) NULL,
  `landlord_payin_id` BIGINT(20) NULL,
  `status` VARCHAR(45) NULL DEFAULT 'requested',
  `type` VARCHAR(45) NULL DEFAULT 'long',
  `sign_expiry` DATETIME NULL DEFAULT NULL,
  `checkin` DATE NULL,
  `checkout` DATE NULL,
  `actual_checkin` DATETIME NULL DEFAULT NULL,
  `actual_checkout` DATETIME NULL DEFAULT NULL,
  `due_date` DATE NULL,
  `due_amount` FLOAT NULL,
  `tenant_sign_location` POINT NULL DEFAULT NULL,
  `tenant_sign_datetime` DATETIME NULL,
  `landlord_sign_location` POINT NULL DEFAULT NULL,
  `landlord_sign_datetime` DATETIME NULL,
  `special_condition` TEXT NULL DEFAULT NULL,
  `landlord_notice_reminded` TINYINT NULL DEFAULT 0,
  `tenant_notice_reminded` TINYINT NULL DEFAULT 0,
  `deleted_at` TIMESTAMP NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_users_has_properties_properties6_idx` (`property_id` ASC),
  INDEX `fk_users_has_properties_users4_idx` (`tenant_id` ASC),
  INDEX `fk_tenancy_users1_idx` (`landlord_id` ASC),
  INDEX `fk_tenancies_users1_idx` (`property_pro_id` ASC),
  INDEX `fk_tenancies_offer1_idx` (`offer_id` ASC),
  INDEX `fk_tenancies_tenancies_parent_idx` (`parent_tenancy_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `fk_tenancies_payins1_idx` (`landlord_payin_id` ASC),
  INDEX `fk_tenancies_payouts1` (`payout_id` ASC),
  CONSTRAINT `fk_tenancies_offer1`
    FOREIGN KEY (`offer_id`)
    REFERENCES `smoor`.`offers` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenancies_payins1`
    FOREIGN KEY (`landlord_payin_id`)
    REFERENCES `smoor`.`payins` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenancies_payouts1`
    FOREIGN KEY (`payout_id`)
    REFERENCES `smoor`.`payouts` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenancies_users1`
    FOREIGN KEY (`property_pro_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenancy_users1`
    FOREIGN KEY (`landlord_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenancies_tenancies_parent`
    FOREIGN KEY (`parent_tenancy_id`)
    REFERENCES `smoor`.`tenancies` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_has_properties_properties6`
    FOREIGN KEY (`property_id`)
    REFERENCES `smoor`.`properties` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_has_properties_users4`
    FOREIGN KEY (`tenant_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`statistics`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`statistics` ;

CREATE TABLE IF NOT EXISTS `smoor`.`statistics` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `property_id` BIGINT(20) NOT NULL,
  `user_id` BIGINT(20) NOT NULL,
  `view_type` VARCHAR(45) NULL DEFAULT 'detail',
  `viewed_datetime` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_statistics_properties1_idx` (`property_id` ASC),
  INDEX `fk_statistics_users1_idx` (`user_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_statistics_properties1`
    FOREIGN KEY (`property_id`)
    REFERENCES `smoor`.`properties` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_statistics_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`extras`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`extras` ;

CREATE TABLE IF NOT EXISTS `smoor`.`extras` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_upated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`roles`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`roles` ;

CREATE TABLE IF NOT EXISTS `smoor`.`roles` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`property_pros`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`property_pros` ;

CREATE TABLE IF NOT EXISTS `smoor`.`property_pros` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `landlord_id` BIGINT(20) NOT NULL,
  `property_pro_id` BIGINT(20) NOT NULL,
  `property_id` BIGINT(20) NOT NULL,
  `property_pro_payin_id` BIGINT(20) NOT NULL,
  `price_type` VARCHAR(45) NULL DEFAULT NULL,
  `price` FLOAT(11) NULL DEFAULT NULL,
  `status` VARCHAR(45) NULL DEFAULT 'request',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_users_has_users_users4_idx` (`property_pro_id` ASC),
  INDEX `fk_users_has_users_users3_idx` (`landlord_id` ASC),
  INDEX `fk_landlord_propertypro_properties1_idx` (`property_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `fk_property_pros_payins1_idx` (`property_pro_payin_id` ASC),
  CONSTRAINT `fk_landlord_propertypro_properties1`
    FOREIGN KEY (`property_id`)
    REFERENCES `smoor`.`properties` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_has_users_users3`
    FOREIGN KEY (`landlord_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_has_users_users4`
    FOREIGN KEY (`property_pro_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_property_pros_payins1`
    FOREIGN KEY (`property_pro_payin_id`)
    REFERENCES `smoor`.`payins` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`property_room_types`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`property_room_types` ;

CREATE TABLE IF NOT EXISTS `smoor`.`property_room_types` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `icon` VARCHAR(45) NULL DEFAULT NULL,
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`references`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`references` ;

CREATE TABLE IF NOT EXISTS `smoor`.`references` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `by_user` BIGINT(20) NOT NULL,
  `for_user` BIGINT(20) NOT NULL,
  `comment` VARCHAR(45) NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_users_has_users_users2_idx` (`for_user` ASC),
  INDEX `fk_users_has_users_users1_idx` (`by_user` ASC),
  CONSTRAINT `fk_users_has_users_users1`
    FOREIGN KEY (`by_user`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_users_has_users_users2`
    FOREIGN KEY (`for_user`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`bathroom_types`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`bathroom_types` ;

CREATE TABLE IF NOT EXISTS `smoor`.`bathroom_types` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `is_active` TINYINT(4) NULL DEFAULT '1',
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 6
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`devices`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`devices` ;

CREATE TABLE IF NOT EXISTS `smoor`.`devices` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `api_version` VARCHAR(45) NULL DEFAULT NULL,
  `user_id` BIGINT(20) NOT NULL,
  `token_id` VARCHAR(100) NULL,
  `type` VARCHAR(45) NULL,
  `device_id` VARCHAR(100) NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_devices_users1_idx` (`user_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `tokein` (`token_id` ASC),
  CONSTRAINT `fk_devices_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`score_types`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`score_types` ;

CREATE TABLE IF NOT EXISTS `smoor`.`score_types` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `category` VARCHAR(45) NULL,
  `roles` VARCHAR(1000) NULL,
  `min_percentage` FLOAT NULL,
  `max_percentage` FLOAT NULL,
  `weight` FLOAT NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`scores`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`scores` ;

CREATE TABLE IF NOT EXISTS `smoor`.`scores` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `score_type_id` BIGINT(20) NOT NULL,
  `user_id` BIGINT(20) NOT NULL,
  `scoreable_id` BIGINT(20) NULL,
  `scoreable_type` VARCHAR(45) NULL,
  `status` VARCHAR(45) NULL DEFAULT 'active',
  `score` FLOAT NULL,
  `score_change` FLOAT NULL,
  `current` FLOAT NULL,
  `max` FLOAT NULL,
  `min` FLOAT NULL,
  `factor` FLOAT NULL,
  `streak_count` INT NULL,
  `max_diff` FLOAT NULL,
  `comment` VARCHAR(1000) NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_scores_users1_idx` (`user_id` ASC),
  INDEX `fk_scores_score_types1_idx` (`score_type_id` ASC),
  INDEX `cfk_created_by_idx` (`created_at` ASC),
  INDEX `cfk_deleted_by_idx` (`updated_by` ASC),
  INDEX `cfk_updated_by_idx` (`deleted_by` ASC),
  CONSTRAINT `fk_scores_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_scores_score_types1`
    FOREIGN KEY (`score_type_id`)
    REFERENCES `smoor`.`score_types` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`events`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`events` ;

CREATE TABLE IF NOT EXISTS `smoor`.`events` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `description` VARCHAR(1000) NOT NULL,
  `user_id` BIGINT(20) NOT NULL,
  `viewed` TINYINT NULL DEFAULT 0,
  `eventable_id` BIGINT(20) NULL,
  `eventable_type` VARCHAR(45) NULL,
  `start_datetime` DATETIME NULL,
  `end_datetime` DATETIME NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_events_users1_idx` (`user_id` ASC),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `eventable` (`eventable_type` ASC, `eventable_id` ASC),
  CONSTRAINT `fk_events_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`participants`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`participants` ;

CREATE TABLE IF NOT EXISTS `smoor`.`participants` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `thread_id` BIGINT(20) NOT NULL,
  `user_id` BIGINT(20) NOT NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  INDEX `fk_threads_has_users_users1_idx` (`user_id` ASC),
  INDEX `fk_threads_has_users_threads1_idx` (`thread_id` ASC),
  PRIMARY KEY (`id`),
  INDEX `cfk_created_by_idx` (`created_by` ASC),
  INDEX `cfk_deleted_by_idx` (`deleted_by` ASC),
  INDEX `cfk_updated_by_idx` (`updated_by` ASC),
  CONSTRAINT `fk_threads_has_users_threads1`
    FOREIGN KEY (`thread_id`)
    REFERENCES `smoor`.`threads` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_threads_has_users_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`property_pro_services`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`property_pro_services` ;

CREATE TABLE IF NOT EXISTS `smoor`.`property_pro_services` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `property_pro_entity_id` BIGINT(20) NOT NULL,
  `service_id` BIGINT(20) NOT NULL,
  `status` VARCHAR(45) NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  INDEX `fk_property_pros_has_services_services1_idx` (`service_id` ASC),
  INDEX `fk_property_pros_has_services_property_pros1_idx` (`property_pro_entity_id` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_property_pros_has_services_property_pros1`
    FOREIGN KEY (`property_pro_entity_id`)
    REFERENCES `smoor`.`property_pros` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_property_pros_has_services_services1`
    FOREIGN KEY (`service_id`)
    REFERENCES `smoor`.`services` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `smoor`.`agencies`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`agencies` ;

CREATE TABLE IF NOT EXISTS `smoor`.`agencies` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NOT NULL,
  `payin_id` BIGINT(20) NULL,
  `name` VARCHAR(45) NULL,
  `status` VARCHAR(45) NULL,
  `commission` FLOAT NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_agencies_users1_idx` (`user_id` ASC),
  INDEX `fk_agencies_payins1_idx` (`payin_id` ASC),
  CONSTRAINT `fk_agencies_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_agencies_payins1`
    FOREIGN KEY (`payin_id`)
    REFERENCES `smoor`.`payins` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`agents`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`agents` ;

CREATE TABLE IF NOT EXISTS `smoor`.`agents` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `agency_id` BIGINT(20) NOT NULL,
  `user_id` BIGINT(20) NOT NULL,
  `status` VARCHAR(45) NULL,
  `deleted_at` TIMESTAMP NULL DEFAULT NULL,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  INDEX `fk_agencies_has_users_users1_idx` (`user_id` ASC),
  INDEX `fk_agencies_has_users_agencies1_idx` (`agency_id` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_agencies_has_users_agencies1`
    FOREIGN KEY (`agency_id`)
    REFERENCES `smoor`.`agencies` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_agencies_has_users_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `smoor`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `smoor`.`histories`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `smoor`.`histories` ;

CREATE TABLE IF NOT EXISTS `smoor`.`histories` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `historiable_id` BIGINT(20) NULL,
  `historiable_type` VARCHAR(45) NULL,
  `snapshot` TEXT NULL,
  `deleted_at` TIMESTAMP NULL,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` BIGINT(20) NULL,
  `created_by` BIGINT(20) NULL,
  `deleted_by` BIGINT(20) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Data for table `smoor`.`users`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`users` (`id`, `first_name`, `last_name`, `username`, `role`, `about`, `about_smoor_score_service`, `gender`, `email`, `cordinate`, `postcode`, `address`, `location`, `profession`, `mobile`, `status`, `qualification`, `arla_qualified`, `profile_picture`, `email_verification_code`, `email_verification_code_expiry`, `forgot_password_verification_code`, `forgot_password_verification_code_expiry`, `sms_verification_code`, `sms_verification_code_expiry`, `password`, `verified`, `admin_verified`, `token`, `remember_token`, `secret`, `transaction_reputation`, `conduct_reputation`, `service_reputation`, `date_of_birth`, `phone`, `school`, `available_to_move_on`, `commission_charge`, `area_covered`, `place_of_work`, `languages`, `current_residence_postcode`, `current_residence_property_type`, `current_residence_bedrooms`, `current_residence_bathrooms`, `current_contract_type`, `current_contract_start_date`, `current_contract_end_date`, `current_rent_per_month`, `employment_status`, `previous_employer`, `experience_years`, `previous_job_function`, `recent_search_query`, `extra_info`, `currency`, `push_notification_messages`, `push_notification_viewings`, `push_notification_offers`, `push_notification_other`, `email_notification_messages`, `email_notification_viewings`, `email_notification_offers`, `email_notification_other`, `text_notification_messages`, `text_notification_viewings`, `text_notification_offers`, `text_notification_other`, `account_reference`, `customer_reference`, `timezone`, `configuration`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (1, 'Smoor', '', 'smooradmin@smoor.com', 'admin', 'Smoor', 'Smoor', 'male', 'smooradmin@smoor.com', NULL, NULL, NULL, NULL, NULL, NULL, 'active', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '$2a$06$oGtEozaIheyEMGRG9jIGoOKAK8w21zOjNeVZJDyp9wxB6wum0j1Y2', 1, 1, NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NULL, NULL, NULL, NULL, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`migrations`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`migrations` (`id`, `migration`, `batch`) VALUES (1, '2014_10_12_000000_create_users_table', 1);
INSERT INTO `smoor`.`migrations` (`id`, `migration`, `batch`) VALUES (2, '2014_10_12_100000_create_password_resets_table', 1);
INSERT INTO `smoor`.`migrations` (`id`, `migration`, `batch`) VALUES (3, '2017_06_15_194304_create_jobs_table', 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`oauth_access_tokens`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`oauth_access_tokens` (`id`, `user_id`, `client_id`, `name`, `scopes`, `revoked`, `created_at`, `updated_at`, `expires_at`) VALUES ('0a1c86175d74b8fd05494b41fd400bfa19aeed9f10a5b884139b626afd98288da4b15ab93be2fb4d', 1, 2, NULL, '[\"*\"]', 0, '2017-07-08 19:33:25', '2017-07-08 19:33:25', '2018-07-08 19:33:25');

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`oauth_clients`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`oauth_clients` (`id`, `user_id`, `name`, `secret`, `redirect`, `personal_access_client`, `password_client`, `revoked`, `created_at`, `updated_at`) VALUES (1, NULL, 'Smoor Personal Access Client', 'LMd1ILIo5iUomCqRBGdNLS1vnXJ7qvMP43KEXFa1', 'http://www.smoor.com', 1, 0, 0, '2017-06-20 12:03:32', '2017-06-20 12:03:32');
INSERT INTO `smoor`.`oauth_clients` (`id`, `user_id`, `name`, `secret`, `redirect`, `personal_access_client`, `password_client`, `revoked`, `created_at`, `updated_at`) VALUES (2, NULL, 'Smoor Password Grant Client', 'Nig753iwyW1UoegGdL8jRiqe9eUgyn2OIiE3CriE', 'http://www.smoor.com', 0, 1, 0, '2017-06-20 12:03:32', '2017-06-20 12:03:32');

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`oauth_refresh_tokens`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`oauth_refresh_tokens` (`id`, `access_token_id`, `revoked`, `expires_at`) VALUES ('70bc1ed54827f263aa7931d08c905099ac1de3bada9ec223ff277631cb792a1fdc4e4ad6d96022b4', '0a1c86175d74b8fd05494b41fd400bfa19aeed9f10a5b884139b626afd98288da4b15ab93be2fb4d', 0, '2018-07-08 19:33:25');

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`service_fee_types`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`service_fee_types` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (1, 'hourly', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`service_fee_types` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (2, 'daily', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`service_fee_types` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (3, 'flat', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`service_fee_types` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (4, 'commission', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`document_types`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`document_types` (`id`, `title`, `type`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (1, 'idcard', 'user', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`document_types` (`id`, `title`, `type`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (2, 'passport', 'user', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`document_types` (`id`, `title`, `type`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (3, 'Term & aggrement', 'property', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`document_types` (`id`, `title`, `type`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (4, 'Sales terms', 'property', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`document_types` (`id`, `title`, `type`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (5, 'driverlicense', 'user', 1, NULL, '2017-07-10 23:37:31', '2017-07-10 23:37:31', NULL, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`payment_methods`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`payment_methods` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (1, 'visa', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`payment_methods` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (2, 'master', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`letting_types`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`letting_types` (`id`, `title`, `icon`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (1, 'property', NULL, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`letting_types` (`id`, `title`, `icon`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (2, 'room', NULL, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`property_room_types`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`property_room_types` (`id`, `title`, `icon`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (1, 'house', NULL, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`property_room_types` (`id`, `title`, `icon`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (2, 'flat ', NULL, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`property_room_types` (`id`, `title`, `icon`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (3, 'apartment', NULL, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`bathroom_types`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`bathroom_types` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (1, 'shared', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`bathroom_types` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (2, 'private', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`bathroom_types` (`id`, `title`, `is_active`, `deleted_at`, `created_at`, `updated_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (3, 'ensuite', 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `smoor`.`score_types`
-- -----------------------------------------------------
START TRANSACTION;
USE `smoor`;
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (1, 'Viewing attendence', 'conduct', 'tenant,landlord,property_pro', 0.01, 0.1, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (11, 'During tenancy communication', 'conduct', 'tenant,landlord,property_pro', 0.01, 0.1, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (10, 'Offer negotiation', 'conduct', 'tenant,landlord,property_pro', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (12, 'Tenancy conduct', 'conduct', 'tenant,landlord,property_pro', 0.01, 0.1, 1.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (13, 'Maintenance Throughout tenancy', 'conduct', 'landlord,property_pro', 0.01, 0.1, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (14, 'Maintenancy Problems', 'conduct', 'landlord,property_pro', 0.01, 0.1, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (15, 'Rental Payment promptness', 'transaction', 'tenant', 0.01, 0.1, 5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (16, 'Service Payment promptness', 'transaction', 'tenant', 0.01, 0.1, 5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (17, 'Service cost', 'service', 'tenant,service_pro', 0.01, 0.1, 2, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (2, 'Viewing conduct', 'conduct', 'tenant,landlord,property_pro', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (3, 'Viewing slot', 'conduct', 'landlord,property_pro', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (4, 'Viewing accept', 'conduct', 'landlord,property_pro', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (5, 'Viewing request', 'conduct', 'tenant', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (6, 'Offer request', 'conduct', 'tenant', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (7, 'Offer accept', 'conduct', 'landlord,property_pro', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (8, 'Offer initial deposit promptness', 'transaction', 'tenant', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (9, 'Responsiveness', 'conduct', 'tenant,landlord,property_pro', 0.01, 0.1, 0.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (18, 'Service availed', 'service', 'tenant', 0.01, 0.1, 2, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (19, 'Service provided', 'service', 'service_pro', 0.01, 0.1, 2, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (20, 'Service provided in time', 'service', 'service_pro', 0.01, 0.1, 2, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (21, 'Service conduct', 'conduct', 'tenant,service_pro', 0.01, 0.1, 2, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (22, 'Profile basic info', 'profile', 'tenant,landlord,property_pro,service_pro', 0.01, 0.1, 2.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (23, 'Profile address', 'profile', 'tenant,landlord,property_pro,service_pro', 0.01, 0.1, 2.5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (24, 'Profile payment info', 'profile', 'tenant,landlord,property_pro,service_pro', 0.01, 0.1, 5, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);
INSERT INTO `smoor`.`score_types` (`id`, `title`, `category`, `roles`, `min_percentage`, `max_percentage`, `weight`, `deleted_at`, `updated_at`, `created_at`, `updated_by`, `created_by`, `deleted_by`) VALUES (25, 'User conduct', 'conduct', 'tenant,landlord,property_pro,service_pro', 0.01, 0.1, 1, NULL, '2017-06-20 12:03:32', '2017-06-20 12:03:32', NULL, NULL, NULL);

COMMIT;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
